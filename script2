local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CustomUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 320, 0, 420)
mainFrame.Position = UDim2.new(0.35, 0, 0.25, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 12)
mainCorner.Parent = mainFrame

local topBar = Instance.new("Frame")
topBar.Size = UDim2.new(1, 0, 0, 35)
topBar.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
topBar.BorderSizePixel = 0
topBar.Parent = mainFrame

local topCorner = Instance.new("UICorner")
topCorner.CornerRadius = UDim.new(0, 12)
topCorner.Parent = topBar

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -90, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "âš¡ johnman's panel"
title.TextColor3 = Color3.fromRGB(200, 200, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = topBar

local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 30, 1, -6)
closeButton.Position = UDim2.new(1, -35, 0, 3)
closeButton.Text = "X"
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 16
closeButton.BackgroundColor3 = Color3.fromRGB(180, 50, 50)
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Parent = topBar

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 8)
closeCorner.Parent = closeButton

local minimizeButton = Instance.new("TextButton")
minimizeButton.Size = UDim2.new(0, 30, 1, -6)
minimizeButton.Position = UDim2.new(1, -70, 0, 3)
minimizeButton.Text = "-"
minimizeButton.Font = Enum.Font.GothamBold
minimizeButton.TextSize = 20
minimizeButton.BackgroundColor3 = Color3.fromRGB(90, 90, 130)
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.Parent = topBar

local minCorner = Instance.new("UICorner")
minCorner.CornerRadius = UDim.new(0, 8)
minCorner.Parent = minimizeButton

local scrollingFrame = Instance.new("ScrollingFrame")
scrollingFrame.Size = UDim2.new(1, -12, 1, -45)
scrollingFrame.Position = UDim2.new(0, 6, 0, 40)
scrollingFrame.BackgroundTransparency = 1
scrollingFrame.ScrollBarThickness = 6
scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollingFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
scrollingFrame.Parent = mainFrame

local listLayout = Instance.new("UIListLayout")
listLayout.Padding = UDim.new(0, 6)
listLayout.FillDirection = Enum.FillDirection.Vertical
listLayout.Parent = scrollingFrame

local function createButton(name, remoteArg)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -12, 0, 45)
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 90)
    button.TextColor3 = Color3.fromRGB(220, 220, 255)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 16
    button.Text = name
    button.Parent = scrollingFrame
    
    local bCorner = Instance.new("UICorner")
    bCorner.CornerRadius = UDim.new(0, 10)
    bCorner.Parent = button

    button.MouseButton1Click:Connect(function()
        local args = { remoteArg }
        ReplicatedStorage.Requests.Picked:FireServer(unpack(args))
    end)
end

createButton("Hog Rider (Free Early Access)", "Hog Rider")
createButton("Ice Wizard (Free Early Access)", "Ice Wizard")

local equipRageButton = Instance.new("TextButton")
equipRageButton.Size = UDim2.new(1, -12, 0, 45)
equipRageButton.BackgroundColor3 = Color3.fromRGB(70, 40, 100)
equipRageButton.TextColor3 = Color3.fromRGB(255, 220, 255)
equipRageButton.Font = Enum.Font.GothamBold
equipRageButton.TextSize = 16
equipRageButton.Text = "Equip Most Expensive Rage"
equipRageButton.Parent = scrollingFrame

local rageCorner = Instance.new("UICorner")
rageCorner.CornerRadius = UDim.new(0, 10)
rageCorner.Parent = equipRageButton

equipRageButton.MouseButton1Click:Connect(function()
    local args = { "Windy Rage" }
    ReplicatedStorage.Requests.EquipRage:FireServer(unpack(args))
end)

closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

local minimized = false
local originalSize = mainFrame.Size
local tweenInfo = TweenInfo.new(0.35, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)

minimizeButton.MouseButton1Click:Connect(function()
    if minimized then
        TweenService:Create(mainFrame, tweenInfo, {Size = originalSize}):Play()
        minimizeButton.Text = "-"
        minimized = false
    else
        TweenService:Create(mainFrame, tweenInfo, {Size = UDim2.new(originalSize.X.Scale, originalSize.X.Offset, 0, 35)}):Play()
        minimizeButton.Text = "+"
        minimized = true
    end
end)
